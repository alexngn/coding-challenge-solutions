Do topological sort.
This is an implementation of kahn's indegree topological sort algorithm
